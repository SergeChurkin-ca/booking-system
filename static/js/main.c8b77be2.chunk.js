(this["webpackJsonptour-inventory-3.0"]=this["webpackJsonptour-inventory-3.0"]||[]).push([[0],{38:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(3),r=n.n(c),s=n(30),i=n.n(s),l=n(15);n(38);function o(){return Object(a.jsxs)("div",{className:"error-wrapper",children:[Object(a.jsx)("h3",{children:"Oopps, this page does not exist"}),Object(a.jsx)(l.b,{to:"/",children:"Return home"})]})}function j(){return Object(a.jsx)("div",{className:"home",children:Object(a.jsx)("main",{className:"main wrapper",children:Object(a.jsxs)("header",{children:[Object(a.jsx)("h1",{children:"tourbees"}),Object(a.jsx)("div",{className:"line"}),Object(a.jsx)("h2",{children:"your exclusive tour partner"}),Object(a.jsx)("a",{href:"/tours-inventory/tourmenu",children:Object(a.jsx)("button",{className:"header-btn",children:"find out"})})]})})})}var u=n(18),d=n.n(u),b=n(21),h=n(11),O=n.p+"static/media/spinner.1e6c7ff9.gif";function p(){return Object(a.jsxs)("div",{className:"loading",children:[Object(a.jsx)("img",{className:"spinner",src:O,alt:""}),Object(a.jsx)("h4",{children:"Loading ..."})]})}var x=n(26);n(44);x.a.initializeApp({apiKey:"AIzaSyAvmOCITwc2n7AfUZxmsvSg3Oh9vxiB6BM",authDomain:"tours-inventory.firebaseapp.com",databaseURL:"https://tours-inventory.firebaseio.com",projectId:"tours-inventory",storageBucket:"tours-inventory.appspot.com",messagingSenderId:"227516769907",appId:"1:227516769907:web:63ecc0d66b794542512c06"});var m=x.a;var f=function(e){var t=e.filterItemsCat,n=e.filterItemsDate,c=new Date;return Object(a.jsxs)("div",{className:"categories-container wrapper",children:[Object(a.jsx)("div",{className:"calendar-container",children:Object(a.jsxs)("form",{className:"calendar",children:[Object(a.jsx)("label",{children:"select by date"}),Object(a.jsx)("input",{type:"date",placeholder:"yyyy-mm-dd",onFocus:"(this.type='date')",onBlur:"(this.type='text')",onChange:function(e){return n(e.target.value)},defaultValue:"".concat(c.getFullYear(),"-0").concat(c.getMonth()+1,"-0").concat(c.getDate())})]})}),Object(a.jsxs)("div",{className:"options-container",children:[Object(a.jsx)("span",{children:"select by category"}),Object(a.jsxs)("select",{onChange:function(e){return t(e.target.value)},children:[Object(a.jsx)("option",{value:"",children:"--Choose category--"}),Object(a.jsx)("option",{value:"all",children:"--CHOOSE ALL--"}),Object(a.jsx)("option",{value:"land",children:"land"}),Object(a.jsx)("option",{value:"water",children:"water"}),Object(a.jsx)("option",{value:"culinary",children:"culinary"}),Object(a.jsx)("option",{value:"air",children:"air"}),Object(a.jsx)("option",{value:"historical",children:"historical"})]})]})]})};var v=function(e){var t=e.filterredTours;return Object(a.jsx)("div",{className:"tour-output-list",children:t.sort((function(e,t){return e.date<t.date})).map((function(e){return Object(a.jsxs)("div",{className:"tour-item",children:[Object(a.jsx)("h3",{children:e.name}),Object(a.jsxs)("p",{children:["category: ",e.category]}),Object(a.jsxs)("p",{children:["date: ",e.date]}),Object(a.jsxs)("p",{children:["seats: ",e.seats]}),Object(a.jsx)("div",{className:"img-container",children:Object(a.jsx)("img",{className:"tour-img",src:e.imgUrl,alt:"placeholder img"})}),Object(a.jsx)("div",{className:"tour-description",children:Object(a.jsx)("p",{children:e.description})})]},e.id)}))})},g=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)([]),i=Object(h.a)(s,2),l=i[0],o=i[1],j=Object(c.useState)(!0),u=Object(h.a)(j,2),O=u[0],x=u[1],g=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),m.database().ref().on("value",(function(e){var t=e.val(),n=[];for(var a in t){var c={id:a,name:t[a].name,category:t[a].category,seats:t[a].seats,date:t[a].date,description:t[a].description,imgUrl:"https://source.unsplash.com/350x350/?"+t[a].name};n.push(c),x(!1)}r(n),o(n)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){g()}),[]),O?Object(a.jsx)("main",{children:Object(a.jsx)(p,{})}):Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsx)(f,{categories:l,filterItemsCat:function(e,t){r(e&&"all"!==e?l.filter((function(t){return t.category===e})):l)},filterItemsDate:function(e){r(l.filter((function(t){return t.date===e})))}}),Object(a.jsxs)("div",{className:"tour-output-container",children:[Object(a.jsx)("h4",{children:0===n.length&&"please hold on... nothing found for this day "}),Object(a.jsx)(v,{filterredTours:n})]})]})})},y=(new Date).toISOString().split("T")[0],N=function(){var e=m.database().ref(),t=Object(c.useState)([]),n=Object(h.a)(t,2),r=n[0],s=n[1],i=Object(c.useState)([]),l=Object(h.a)(i,2),o=l[0],j=l[1],u=Object(c.useState)([]),d=Object(h.a)(u,2),b=d[0],O=d[1],p=Object(c.useState)([]),x=Object(h.a)(p,2),f=x[0],v=x[1],g=Object(c.useState)([]),N=Object(h.a)(g,2),w=N[0],k=N[1],S=Object(c.useState)([]),C=Object(h.a)(S,2),I=C[0],D=C[1];return Object(a.jsx)("div",{className:"inputformWrapper",children:Object(a.jsxs)("form",{onSubmit:function(t){!function(t){t.preventDefault(),console.log(0===r.length),0===r.length||0===o.length||0===b.length||0===w.length||0===I.length||0===f.length?alert("all fields are required"):(e.push().set({name:r,category:o,date:b,duration:f,seats:w,description:I}),alert("submitted!"),s(""),j(""),O(""),v([]),k(""),D(""),console.log(r))}(t)},children:[Object(a.jsx)("input",{type:"text",className:"noteInput",placeholder:"Add tour name",name:"tourName",value:r,onChange:function(e){return s(e.target.value)},maxLength:"20"}),Object(a.jsx)("input",{type:"text",className:"descriptionInput",placeholder:"Add tour description",name:"tourDescription",value:I,onChange:function(e){return D(e.target.value)},maxLength:"60"}),Object(a.jsxs)("div",{className:"inputParamsWrapper",children:[Object(a.jsxs)("select",{className:"input-form-select",onChange:function(e){return j(e.target.value)},value:o,children:[Object(a.jsx)("option",{value:"",children:"-- select category --"}),Object(a.jsx)("option",{value:"land",children:"land"}),Object(a.jsx)("option",{value:"water",children:"water"}),Object(a.jsx)("option",{value:"culinary",children:"culinary"}),Object(a.jsx)("option",{value:"historical",children:"historical"}),Object(a.jsx)("option",{value:"air",children:"air"})]}),Object(a.jsx)("input",{type:"date",min:y,className:"dateInput",name:"tourDate",value:b,onChange:function(e){return O(e.target.value)}}),Object(a.jsx)("input",{type:"number",className:"dateInput",placeholder:"hrs",name:"tourDuration",value:f,onChange:function(e){return v(e.target.value)}}),Object(a.jsx)("input",{type:"number",className:"dateInput",placeholder:"pax",name:"tourSeats",value:w,onChange:function(e){return k(e.target.value)}}),Object(a.jsx)("button",{type:"submit",onChange:function(){return j(null)},className:"noteButton",children:"Add"})]})]})})},w=n(32).a.database().ref(),k=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(!0),i=Object(h.a)(s,2),l=i[0],o=i[1],j=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!0),w.on("value",(function(e){var t=e.val(),n=[];for(var a in t){var c={id:a,name:t[a].name,category:t[a].category,seats:t[a].seats,date:t[a].date,duration:t[a].duration};n.push(c),o(!1)}r(n)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(c.useEffect)((function(){j()}),[]),l)return Object(a.jsx)("main",{children:Object(a.jsx)(p,{})});return Object(a.jsxs)("div",{className:"tour-edit-table",children:[Object(a.jsxs)("div",{className:"table-header",children:[Object(a.jsx)("h4",{children:"Tour Inventory Editor"}),Object(a.jsxs)("h4",{children:["Total tours: ",n.length]}),Object(a.jsxs)("ul",{className:"table-params",children:[Object(a.jsx)("li",{children:"edit"}),Object(a.jsx)("li",{children:"name"}),Object(a.jsx)("li",{children:"category"}),Object(a.jsx)("li",{children:"date"}),Object(a.jsx)("li",{children:"duration"}),Object(a.jsx)("li",{children:"seats"})]})]}),n.sort((function(e,t){return e.date<t.date})).map((function(e){return Object(a.jsx)("ul",{className:"table-vals",children:Object(a.jsxs)("li",{children:[Object(a.jsx)("p",{children:Object(a.jsx)("button",{onClick:function(){return t=e.id,void w.child(t).remove();var t},children:Object(a.jsx)("i",{class:"fas fa-backspace",children:" "})})}),Object(a.jsxs)("p",{children:[Object(a.jsx)("button",{onClick:function(){return t=e.id,void function e(){var n=prompt("Edit Tour Name");n?w.child(t).update({name:n}):(alert("can't be blank"),e())}();var t},children:Object(a.jsx)("i",{class:"fas fa-pen",children:" "})}),e.name]}),Object(a.jsxs)("p",{children:[" ",e.category]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("button",{onClick:function(){return function(e){var t=new Date,n=/^(19|20)\d{2}-(0[1-9]|1[0-2])-(0[1-9]|1\d|2\d|3[01])$/,a=(new Date).toISOString().split("T")[0],c=t.getFullYear();!function r(){var s=prompt("Edit tour date: year-month-day",c+"-0"+[t.getMonth()+1]+"-0"+t.getDate());s?s<a?(alert("invalid date\n\ncan't chose past date\n\nconsider format: year-month-day\n\ne.g. 2021-01-01"),r()):s.slice(0,4)<c||s.slice(0,4)>c+1?(alert("invalid year\n\nplease chose something realistic ;)"),console.log(n.test(s)),r()):"-"!==s.slice(4,5)||"-"!==s.slice(7,8)||!1===n.test(s)?(alert("invalid format/date\n\nconsider format: year-month-day\n\ne.g. 2021-01-01"),r()):w.child(e).update({date:s}):(alert("check your input\n\ncan't be blank"),r())}()}(e.id)},children:Object(a.jsx)("i",{class:"fas fa-pen",children:" "})}),e.date]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("button",{onClick:function(){return t=e.id,void function e(){var n=prompt("Edit Tour Duraiton - hours");n?w.child(t).update({duration:n}):(alert("can't be blank"),e())}();var t},children:Object(a.jsx)("i",{class:"fas fa-pen",children:" "})}),e.duration," hrs"]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("button",{onClick:function(){return t=e.id,void function e(){var n=prompt("Edit Tour Seats");n?w.child(t).update({seats:n}):(alert("can't be blank"),e())}();var t},children:Object(a.jsx)("i",{class:"fas fa-pen",children:" "})}),e.seats," pax"]})]},e.id)})}))]})},S=function(){return Object(a.jsxs)("div",{className:"tour-booking-list",children:[Object(a.jsx)(N,{}),Object(a.jsx)(k,{})]})},C=function(){var e="admin",t=Object(c.useState)(!1),n=Object(h.a)(t,2),r=n[0],s=n[1],i=Object(a.jsx)("div",{className:"authorize-wrapper",children:Object(a.jsxs)("div",{className:"authorize",children:[Object(a.jsx)("h4",{children:"please login to proceed"}),Object(a.jsx)("p",{children:"(password hint this time: 'admin')"}),Object(a.jsxs)("form",{action:"#",onSubmit:function(t){t.preventDefault();var n=t.target.querySelector('input[type="password"]').value;return e!==n?alert("wrong password"):s(e===n)},children:[Object(a.jsx)("input",{type:"password",placeholder:"Password"}),Object(a.jsx)("input",{type:"submit",value:"login"})]})]})});return Object(a.jsxs)(a.Fragment,{children:[r||i,r&&Object(a.jsx)(S,{})]})},I=n(8),D=n.p+"static/media/tourbeeslogo.8c45e0fb.svg";function T(){return Object(a.jsx)("div",{children:Object(a.jsxs)("nav",{className:"navbar",children:[Object(a.jsx)("i",{className:"fa fa-bars"}),Object(a.jsx)("input",{type:"checkbox",id:"toggle",name:"toggle"}),Object(a.jsx)("div",{className:"logo-wrapper",children:Object(a.jsx)("img",{src:D,alt:"tourbess logo",className:"logo"})}),Object(a.jsxs)("ul",{className:"nav-links",children:[Object(a.jsx)("li",{children:Object(a.jsx)(l.b,{to:"/",children:"Home"})}),Object(a.jsx)("li",{children:Object(a.jsx)(l.b,{to:"/tourmenu",children:"Tours"})}),Object(a.jsx)("li",{children:Object(a.jsx)(l.b,{to:"/manageinventory",children:"Manage Inventory"})})]})]})})}var F=function(){return Object(a.jsxs)("footer",{children:[Object(a.jsxs)("ul",{class:"social",children:[Object(a.jsx)("li",{children:Object(a.jsx)("a",{className:"tw-ic mr-3 ",role:"button",href:"https://twitter.com/ChurkinSerge",target:"blank",children:Object(a.jsx)("i",{class:"fab fa-lg fa-twitter "})})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{className:"li-ic mr-3",role:"button",href:"https://www.linkedin.com/in/sergechurkin/",target:"blank",children:Object(a.jsx)("i",{class:"fab fa-lg fa-linkedin-in "})})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{className:"git-ic mr-3 ",role:"button",href:"https://github.com/sergechurkin-ca",target:"blank",children:Object(a.jsx)("i",{class:"fab fa-lg fa-github "})})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{className:"email-ic mr-3",role:"button",href:"mailto:sergechurkin@gmai.com",children:Object(a.jsx)("i",{className:"far fa-lg fa-envelope "})})})]}),Object(a.jsxs)("p",{class:"trademark ",children:["2020 created by serge churkin ",Object(a.jsx)("a",{href:"https://serge-web.com",children:"    www.serge-web.com"})]})]})};var E=function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(l.a,{basename:"/tours-inventory",children:[Object(a.jsx)(T,{}),Object(a.jsxs)(I.c,{children:[Object(a.jsx)(I.a,{exact:!0,path:"/",component:j}),Object(a.jsx)(I.a,{exat:!0,path:"/tourmenu",component:g}),Object(a.jsx)(I.a,{exact:!0,path:"/manageinventory",component:C}),Object(a.jsx)(I.a,{component:o})]}),Object(a.jsx)(F,{})]})})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(l.a,{children:Object(a.jsx)(E,{})})}),document.getElementById("root")),A()}},[[47,1,2]]]);
//# sourceMappingURL=main.c8b77be2.chunk.js.map